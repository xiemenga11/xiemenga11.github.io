<!doctype html>
<html>
<head>
	<meta charset="UTF-8">
	<title>时钟DEMO</title>
	<link rel="stylesheet" href="../css/leo.css">
	<style>
		#mycan{
			width:1200px;
			height:700px;
			border:1px solid red;
			display: block;
			margin:0 auto;
			background-color: #fff;
		}
	</style>
</head>
<body>
<canvas id="mycan" width="1200" height="700"></canvas>
<script src="../js/selector.js"></script>
<script src="../js/canvas.js"></script>
<script>
	var gra = C("mycan").r_gradient({
		center:[70,70,50,50],
		sr:50,
		br:150,
		stop:[
			[0,"#fff"],
			[1,"#eee"]
		]
	})
	var time,
		sSpin,
		mSpin,
		hSpin,
		msDeg = 360 / 60 / 1000
	function drawClock(spin,r,end,color,txt){
		C("mycan")
		.save()
		.setSClo(color)
		.ln_cap("round")
		.ln_wid(50)
		.translate(600,350)
		.spin(spin)
		.begin()
		.arc({
			center:[0,0],
			r:r,
			start:0,
			end:end
		})
		.stroke()
		.close()
		.init()
		.save()
		.translate(600,350)
		.begin()
		.fontSize(30)
		.ftext({
			text:txt,
			position:[Math.cos(Math.PI/180*spin)*r+10,Math.sin(Math.PI/180*spin)*r+10]// position:[r-22,-35]
		})
		.close()
		.init()
	}
	var timerLoop = setInterval(function(){
		time = new Date()
		sSpin = 360 / 60 * time.getSeconds() + msDeg * time.getMilliseconds() - 81
		mSpin = 360 / 60 * time.getMinutes() - 78 + time.getSeconds() * 0.1 
		hSpin = 360 / 12 * time.getHours() - 78 + time.getMinutes() * 0.5
		C("mycan").clearAll()
		drawClock( sSpin,300,1.9,"#13e06b",time.getSeconds() )
		drawClock( mSpin,250,1.88,"red",time.getMinutes() )
		drawClock( hSpin,200,1.85,"green",time.getHours() )
	},20)
</script>
</body>
</html>